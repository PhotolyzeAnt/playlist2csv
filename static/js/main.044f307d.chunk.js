(this["webpackJsonpspotify-lists"]=this["webpackJsonpspotify-lists"]||[]).push([[0],{15:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),l=n(4),i=n.n(l),s=n(5),u=n(8),p=n(3),m=["playlist-read-private"];var h=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var n=e.split("=");t[(a=n[0],a.replace("_"," ").replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()})).replace(/\s+/g,""))]=decodeURIComponent(n[1])}var a;return t}),{}),d=h.accessToken,f=h.tokenType;window.history.pushState("",document.title,window.location.pathname+window.location.search);var b=function(){var t=Object(a.useState)(null),e=Object(p.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(!1),l=Object(p.a)(o,2),h=l[0],b=l[1],E=Object(a.useState)(""),y=Object(p.a)(E,2),v=y[0],w=y[1];function k(){return(k=Object(u.a)(i.a.mark((function t(e){var n,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),b(!0),n=v.split(":")[2],t.next=5,fetch("https://api.spotify.com/v1/playlists/".concat(n),{method:"GET",headers:{Authorization:"".concat(f," ").concat(d)}}).then((function(t){return t.json()}));case 5:a=t.sent,c=a.tracks;case 7:if(!c.next){t.next=14;break}return t.next=10,fetch(c.next,{method:"GET",headers:{Authorization:"".concat(f," ").concat(d)}}).then((function(t){return t.json()}));case 10:c=t.sent,a.tracks.items=[].concat(Object(s.a)(a.tracks.items),Object(s.a)(c.items)),t.next=7;break;case 14:r(a),w(""),b(!1);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j,x=n?n.tracks.items.filter((function(t){return t.track})).reduce((function(t,e){var n,a=e.track;return t.push({name:a.name,artists:(n=a.artists,n.map((function(t){return t.name})).join(", "))}),t}),[]):null;return d?c.a.createElement("div",null,c.a.createElement("form",{type:"submit",onSubmit:function(t){return function(t){return k.apply(this,arguments)}(t)}},c.a.createElement("label",{htmlFor:"playlist-input"},"Input spotify URI:",c.a.createElement("input",{id:"playlist-input",type:"text",value:v,onChange:function(t){return w(t.target.value)}})),c.a.createElement("button",{disabled:h},"Fetch playlist!")),n?c.a.createElement("div",null,c.a.createElement("h2",null,n.name),c.a.createElement("a",{href:(j=x,"data:text/plain;charset=utf-8,"+encodeURIComponent("Title;Artist;Code\n"+j.map((function(t){var e=t.name,n=t.artists;return"".concat(e,";").concat(n,";\n")})).join(""))),download:"".concat(n.name,".csv")},"Download csv"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Song title"),c.a.createElement("th",null,"Artists"))),c.a.createElement("tbody",null,x.map((function(t,e){return c.a.createElement("tr",{key:e},c.a.createElement("td",null,t.name),c.a.createElement("td",null,t.artists))}))))):null):c.a.createElement("div",null,c.a.createElement("h1",null,"Authorize with spotify"),c.a.createElement("a",{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("f10fc34ec54b46fc92b4086dd5d86fcd","&redirect_uri=").concat("https://photolyzeant.github.io/playlist2csv/","&scope=").concat(m.join("%20"),"&response_type=token")},"Click to authorize"))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.044f307d.chunk.js.map